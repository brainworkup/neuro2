## Visual Perception/Construction {#sec-spatial}

{{< include _02-04_spatial_text.qmd >}}

```{r}
#| label: setup-spatial
#| include: false

# Filter by domain
domains <- c("Visual Perception/Construction")

# Target phenotype
pheno <- "spatial"

# Read the data file into a data frame
file_ext <- tools::file_ext("data/neurocog.parquet")
if (file_ext == "parquet") {
  # Check if arrow package is available
  if (!requireNamespace("arrow", quietly = TRUE)) {
    stop("The 'arrow' package is required to read Parquet files.")
  }
  spatial <- arrow::read_parquet("data/neurocog.parquet")
} else if (file_ext == "feather") {
  # Check if arrow package is available
  if (!requireNamespace("arrow", quietly = TRUE)) {
    stop("The 'arrow' package is required to read Feather files.")
  }
  spatial <- arrow::read_feather("data/neurocog.parquet")
} else {
  # Default to CSV for other formats
  spatial <- readr::read_csv("data/neurocog.parquet")
}
```

