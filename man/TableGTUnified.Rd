% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/TableGT.R
\docType{class}
\name{TableGTUnified}
\alias{TableGTUnified}
\title{TableGTUnified R6 Class}
\value{
\itemize{
\item \verb{$build_table()} returns a \code{gt_tbl}.
\item \verb{$save()} returns (invisibly) \code{TRUE}.
\item Other mutator methods return the object (invisibly) for chaining.
}
}
\description{
The class:
\itemize{
\item Accepts raw data plus configuration (labels, caption, padding, etc.).
\item Detects score-type groups & footnotes automatically, but allows manual overrides.
\item Builds a \code{gt} table and can save it to PNG/PDF/HTML.
}
}
\details{
Create formatted neuropsych tables with \strong{gt}, supporting both automated and manual
footnotes/groupings. This merges functionality of your previous \code{TableGT} variants.
}
\section{Methods}{

\describe{
\item{$initialize(data, pheno, table_name, config, footnotes_manual, groups_manual, dynamic_grp, source_note)}{Constructor. Stores inputs and merges defaults.}
\item{$build_table()}{Builds and returns the \code{gt} object (also stored in \code{gt_object}).}
\item{$save(out_dir, formats, dpi, width, height, ...)}{Saves the \code{gt} object to disk (PNG/PDF/HTML).}
\item{$set_source_note(note)}{Replace/set the source note.}
\item{$add_manual_footnotes(named_list)}{Add or override manual footnotes.}
\item{$add_manual_groups(named_list)}{Add or override manual groups.}
}
}

\examples{
\dontrun{
tbl <- TableGTUnified$new(
  data = data_memory_tbl,
  pheno = pheno,
  table_name = "table_memory",
  config = list(
    labels = list(score = "**SCORE**", percentile = "**\u2030 RANK**", range = "**RANGE**"),
    stubhead = "Test / Subtest",
    caption = NULL,
    theme = "538",
    vertical_padding = 0,
    multiline = TRUE
  ),
  footnotes_manual = list(
    scaled_score   = gt::md("Scaled score: Mean = 10 [50th\u2030], SD ± 3 [16th\u2030, 84th\u2030]"),
    standard_score = gt::md("Standard score: Mean = 100 [50th\u2030], SD ± 15 [16th\u2030, 84th\u2030]")
  ),
  groups_manual = list(
    scaled_score   = c("WAIS-IV", "WISC-V"),
    standard_score = c("NAB")
  )
)

g <- tbl$build_table()
tbl$save(out_dir = "tables", formats = c("png","pdf"))
}

}
\keyword{tables}
\section{Public fields}{
\if{html}{\out{<div class="r6-fields">}}
\describe{
\item{\code{data}}{A data frame with columns such as test_name, scale, score, percentile, and range.}

\item{\code{pheno}}{Phenotype identifier string or object. Not used internally by default.}

\item{\code{table_name}}{Character string. Basename used when saving tables.}

\item{\code{gt_object}}{The built gt_tbl object (after build_table()).}

\item{\code{config}}{Named list of options (labels, stubhead, caption, theme, vertical_padding, multiline, etc.).}

\item{\code{footnotes_manual}}{Named list: score type -> gt::md() footnote text. Overrides/extends auto footnotes.}

\item{\code{groups_manual}}{Named list: score type -> character vector of row labels to group. Overrides/extends auto groups.}

\item{\code{dynamic_grp}}{Optional named list of groups computed externally; if NULL, auto-detected.}

\item{\code{source_note}}{Optional single gt::md() or character to add as a source note.}
}
\if{html}{\out{</div>}}
}
\section{Methods}{
\subsection{Public methods}{
\itemize{
\item \href{#method-TableGTUnified-new}{\code{TableGTUnified$new()}}
\item \href{#method-TableGTUnified-build_table}{\code{TableGTUnified$build_table()}}
\item \href{#method-TableGTUnified-save}{\code{TableGTUnified$save()}}
\item \href{#method-TableGTUnified-set_source_note}{\code{TableGTUnified$set_source_note()}}
\item \href{#method-TableGTUnified-add_manual_footnotes}{\code{TableGTUnified$add_manual_footnotes()}}
\item \href{#method-TableGTUnified-add_manual_groups}{\code{TableGTUnified$add_manual_groups()}}
\item \href{#method-TableGTUnified-clone}{\code{TableGTUnified$clone()}}
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-TableGTUnified-new"></a>}}
\if{latex}{\out{\hypertarget{method-TableGTUnified-new}{}}}
\subsection{Method \code{new()}}{
Create a new \code{TableGTUnified} object.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{TableGTUnified$new(
  data,
  pheno = NULL,
  table_name,
  config = list(),
  footnotes_manual = list(),
  groups_manual = list(),
  dynamic_grp = NULL,
  source_note = NULL
)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{data}}{\code{data.frame}. Passed to \verb{$initialize()}.}

\item{\code{pheno}}{Optional object. Passed to \verb{$initialize()}.}

\item{\code{table_name}}{\code{character}. Passed to \verb{$initialize()}.}

\item{\code{config}}{\code{list}. Configuration (labels, stubhead, caption, etc.). Passed to \verb{$initialize()}.}

\item{\code{footnotes_manual}}{\code{list}. Named list of manual footnotes. Passed to \verb{$initialize()}.}

\item{\code{groups_manual}}{\code{list}. Named list of manual row groups. Passed to \verb{$initialize()}.}

\item{\code{dynamic_grp}}{\code{list} or \code{NULL}. Precomputed groups. Passed to \verb{$initialize()}.}

\item{\code{source_note}}{\code{character}/\code{gt::md()}. Passed to \verb{$initialize()} or \code{set_source_note()}.}
}
\if{html}{\out{</div>}}
}
\subsection{Returns}{
A \code{TableGTUnified} object.
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-TableGTUnified-build_table"></a>}}
\if{latex}{\out{\hypertarget{method-TableGTUnified-build_table}{}}}
\subsection{Method \code{build_table()}}{
Build the \code{gt} table from the current state and store it in \code{gt_object}.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{TableGTUnified$build_table()}\if{html}{\out{</div>}}
}

\subsection{Returns}{
A \code{gt_tbl} object.
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-TableGTUnified-save"></a>}}
\if{latex}{\out{\hypertarget{method-TableGTUnified-save}{}}}
\subsection{Method \code{save()}}{
Save the built table to disk.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{TableGTUnified$save(
  out_dir = ".",
  formats = c("png"),
  dpi = 300,
  width = NULL,
  height = NULL,
  ...
)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{out_dir}}{\code{character}. Directory to save output (\verb{$save()}).}

\item{\code{formats}}{\code{character}. Vector of extensions (e.g., \code{"png"}, \code{"pdf"}, \code{"html"}) for \verb{$save()}.}

\item{\code{dpi}}{\code{numeric}. Resolution for raster formats in \verb{$save()}.}

\item{\code{width}}{\code{numeric} or \code{NULL}. Width dimension passed to \code{gt::gtsave()} in \verb{$save()}.}

\item{\code{height}}{\code{numeric} or \code{NULL}. Height dimension passed to \code{gt::gtsave()} in \verb{$save()}.}

\item{\code{...}}{Additional arguments passed to \code{gt::gtsave()} in \verb{$save()}.}
}
\if{html}{\out{</div>}}
}
\subsection{Returns}{
(Invisibly) TRUE on success.
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-TableGTUnified-set_source_note"></a>}}
\if{latex}{\out{\hypertarget{method-TableGTUnified-set_source_note}{}}}
\subsection{Method \code{set_source_note()}}{
Set or replace the source note.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{TableGTUnified$set_source_note(note)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{note}}{\code{character}/\code{gt::md()}. New source note for \code{set_source_note()}.}
}
\if{html}{\out{</div>}}
}
\subsection{Returns}{
The object (invisibly) for chaining.
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-TableGTUnified-add_manual_footnotes"></a>}}
\if{latex}{\out{\hypertarget{method-TableGTUnified-add_manual_footnotes}{}}}
\subsection{Method \code{add_manual_footnotes()}}{
Add or override manual footnotes.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{TableGTUnified$add_manual_footnotes(named_list)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{named_list}}{\code{list}. For manual footnotes/groups methods.}
}
\if{html}{\out{</div>}}
}
\subsection{Returns}{
The object (invisibly) for chaining.
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-TableGTUnified-add_manual_groups"></a>}}
\if{latex}{\out{\hypertarget{method-TableGTUnified-add_manual_groups}{}}}
\subsection{Method \code{add_manual_groups()}}{
Add or override manual groups.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{TableGTUnified$add_manual_groups(named_list)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{named_list}}{\code{list}. For manual footnotes/groups methods.}
}
\if{html}{\out{</div>}}
}
\subsection{Returns}{
The object (invisibly) for chaining.
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-TableGTUnified-clone"></a>}}
\if{latex}{\out{\hypertarget{method-TableGTUnified-clone}{}}}
\subsection{Method \code{clone()}}{
The objects of this class are cloneable with this method.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{TableGTUnified$clone(deep = FALSE)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{deep}}{Whether to make a deep clone.}
}
\if{html}{\out{</div>}}
}
}
}
