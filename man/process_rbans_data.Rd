% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/pluck_neuropsych_pdfs.R,
%   R/process_rbans_data_with_lookup.R
\name{process_rbans_data}
\alias{process_rbans_data}
\title{Extract and Process RBANS Data}
\usage{
process_rbans_data(
  input_file,
  test_prefix,
  patient_id,
  lookup_file,
  line_orientation_pct_rank = NULL,
  picture_naming_pct_rank = NULL,
  list_recall_pct_rank = NULL,
  list_recognition_pct_rank = NULL,
  manual_entries = NULL,
  output_file = NULL
)

process_rbans_data(
  input_file,
  test_prefix,
  patient_id,
  lookup_file,
  line_orientation_pct_rank = NULL,
  picture_naming_pct_rank = NULL,
  list_recall_pct_rank = NULL,
  list_recognition_pct_rank = NULL,
  manual_entries = NULL,
  output_file = NULL
)
}
\arguments{
\item{input_file}{Path to the UTF-16 CSV export from Q-interactive.}

\item{test_prefix}{Prefix used for Subtest names in the export (e.g., "RBANS Update Form A ").}

\item{patient_id}{Identifier for the patient (e.g., "Patient001").}

\item{lookup_file}{Path to the RBANS lookup table CSV containing metadata columns:
scale, domain, subdomain, narrow, pass, verbal, timed, score_type, description.}

\item{line_orientation_pct_rank}{Numeric. Manual percentile for "Line Orientation".}

\item{picture_naming_pct_rank}{Numeric. Manual percentile for "Picture Naming".}

\item{list_recall_pct_rank}{Numeric. Manual percentile for "List Recall".}

\item{list_recognition_pct_rank}{Numeric. Manual percentile for "List Recognition".}

\item{manual_entries}{Optional tibble of manual entries for missing subtests.}

\item{output_file}{Optional path to write the combined, processed data as CSV.}

\item{input_file_path}{Path to the CSV file containing RBANS data}

\item{test_name_prefix}{Prefix used in the CSV file for test names (e.g., "RBANS Update Form A ")}

\item{test}{The test code to use in the output (e.g., "rbans", "rbans_a")}

\item{test_name}{The full test name to use in the output (e.g., "RBANS", "RBANS Update Form A")}

\item{patient}{Patient identifier or name}

\item{output_file_path}{Optional path to save the processed data. If NULL, data is returned but not saved.}
}
\value{
A data frame containing the processed RBANS data

A data.frame with one row per RBANS subtest, including scores, times,
composite values, metadata, and manual percentile overrides.
}
\description{
This function processes RBANS (Repeatable Battery for the Assessment of Neuropsychological Status) data
from a CSV file exported from Q-interactive. It extracts raw scores, scaled scores, completion times,
and composite scores, then combines them into a single dataset with appropriate metadata.

Reads a UTF-16 CSV export from Q-interactive and extracts raw scores,
scaled scores, completion times, and composite scores. It then merges in
detailed metadata from an external RBANS lookup table CSV and allows
manual entry of four percentile ranks.
}
\examples{
\dontrun{
process_rbans_data(
  input_file_path = "data/rbans_export.csv",
  test_name_prefix = "RBANS Update Form A ",
  test = "rbans_a",
  test_name = "RBANS Update Form A",
  patient = "Patient001",
  output_file_path = "data/processed_rbans.csv"
)
}
}
